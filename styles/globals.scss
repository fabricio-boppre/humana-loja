/* ---------------------------------------------
	MIXINS, VARIABLES & EXTENDS
  ---------------------------------------------- */

@use 'assets';

/* ---------------------------------------------
	BASIC LAYOUT & TYPOGRAPHY:
  ---------------------------------------------- */

body {
	-webkit-font-smoothing: antialiased;
	font-family: 'Open Sans', sans-serif;
	font-size: 16px;	
	background-color: assets.$gray-bg;
	min-width: assets.$body-min-width;
	
	div#__next {
	  @include assets.flexbox();
		@include assets.flex-direction(column);
	  min-height: 100vh;

		img {
			max-width: 100%;
			height: auto;						
		}		
	
	  // Making sure that elements with the hidden attribute won't be shown:
	  // - https://html.spec.whatwg.org/multipage/interaction.html#the-hidden-attribute
	  [hidden], area, base, basefont, datalist, head, link, meta, noembed,
	  noframes, param, rp, script, source, style, template, track, title {
	    display: none;
	  }
	
		// Message for incompatible browser: it starts hidden and is shown if an effect in the Masthead component detects IE as the browser:
		#incompatible-browser {
			display: none;
			padding: 50px assets.$lateral-margin;
			margin: 0 auto;
			font-size: assets.$typo-normal-size;
			line-height: assets.$line-height-normal-size;
			font-weight: 300;
		}
		
		#opening-sale {
			@include assets.align-self(center);
			@include assets.border-radius(0 0 12px 12px);
			padding: 8px 14px;
			font-weight: 400;
			color: white;
			text-align: center;
			background-color: assets.$orange-button;
			font-size: assets.$typo-normal-size;
			line-height: assets.$line-height-normal-size;
			.highlight {
				font-weight: 700;
				text-decoration: underline;				
			}
		}

		#principal {
			@include assets.flex(1);

			#principal-nucleus {
				@include assets.flexbox();
				@include assets.flex-wrap(wrap);
				@include assets.justify-content(space-between);
				@include assets.align-items(center);
				max-width: assets.$principal-max-width;
				padding: 50px assets.$lateral-margin;
				margin: 0 auto;
				font-size: assets.$typo-normal-size;
				line-height: assets.$line-height-normal-size;
				font-weight: 300;
				
				.content {
					@include assets.flex-basis(100%);
					margin-top: 60px;

					#inexistent-page {
						text-align: center;
					}
					h1 {
						font-size: assets.$typo-large-size;
						line-height: assets.$line-height-large-size;
						font-weight: 400;
					}
					h2 {
						font-size: assets.$typo-big-size;
					}
					a {
						color: inherit;
					}
					strong {
						font-weight: 700;
					}
					em,
					blockquote {
						font-style: italic;
					}
					.orange-text {
						color: assets.$orange-button;
					}
					
					.formatted-text {
						h2,	
						p,
						ul,
						ol {
							padding-bottom: 15px;
						}	
						ul,
						ol {
							list-style-position: inside;
						}
						ul {
							list-style-type: disc;
						}
						ol {
							list-style-type: decimal;
						}
					}
				}
			}		

		}		
	}

	// Responsiveness rules:
	@media screen and (max-width: assets.$tablet-width) {
		div#__next {
			#opening-sale {
				@include assets.align-self(stretch);
				@include assets.border-radius(0 0 0 0);
			}
			#principal {
				#principal-nucleus {
					@include assets.justify-content(center);
					padding-top: 30px;

					.content {
						@include assets.order(3);
						margin-top: 50px;
					}		
				}
			}
		}
	}
	@media screen and (max-width: assets.$smartphone-width) {
		div#__next {
			#opening-sale {
				font-size: assets.$typo-small-size;
				line-height: assets.$line-height-small-size;
			}
			#principal {
				#principal-nucleus {
					padding-top: 20px;
				}
			}
		}
	}

}

/* ---------------------------------------------
	SNIPCART CUSTOMIZATION:
  ---------------------------------------------- */
	
#snipcart { 
	* {
		font-family: 'Open Sans', sans-serif;
	}

	// Buttons:
	// https://docs.snipcart.com/v3/setup/theming#buttons
	--color-buttonPrimary: white;
	--color-buttonPrimary-hover: white;
	--shadow-buttonPrimary-hover: none;
	--bgColor-buttonPrimary: hsl(38, 100%, 47%);
	--bgColor-buttonPrimary-hover: hsl(38, 100%, 53%);
	--borderColor-buttonPrimary: hsl(38, 100%, 47%);
	--borderColor-buttonPrimary-hover: hsl(38, 100%, 53%);
	--color-buttonSecondary: white;
	--color-buttonSecondary-hover: white;
	--shadow-buttonSecondary-hover: none;
	--bgColor-buttonSecondary: hsl(38, 100%, 47%);
	--bgColor-buttonSecondary-hover: hsl(38, 100%, 53%);
	--borderColor-buttonSecondary: hsl(38, 100%, 47%);
	--borderColor-buttonSecondary-hover: hsl(38, 100%, 53%);
	
	// Links:
	// https://docs.snipcart.com/v3/setup/theming#links
	--color-link: black;
	--color-link-hover:  hsl(38, 100%, 47%);
	
	.snipcart-modal__container {
		border-left: 1px solid #e3e6e8;
	}

	.snipcart-cart-summary-side .snipcart-item-line__container {
		margin-bottom: 0;
	}
	
	.snipcart-base-button__label {
		font-weight: 700;
	}

	figure.snipcart-item-line__media.snipcart-item-line__media--small {
		height: 50px;
	}
	h2.snipcart-item-line__title.snipcart__font--xlarge.snipcart__font--secondary.snipcart__font--black {
		line-height: 20px;
		padding: 0 12px;
	}
	div.snipcart-item-line__variants {
		padding-top: 18px;
	}
	
	.snipcart-summary-fees__notice {
		line-height: 18px;
		margin-bottom: 10px;
	}
	
	#form-cpf {
		padding: 8px 0;
	}
	
	form#snipcart-shipping-address-form.snipcart-form {
		h3.snipcart-shipping-address__subtitle.snipcart__font--bold {
			display: none;
		}
	}
	
	form#snipcart-billing-form.snipcart-form,
	form#snipcart-shipping-address-form.snipcart-form {
		div.snipcart__box {
			div.snipcart__box--header div.snipcart__box--title h1.snipcart__font--subtitle {
				padding-bottom: 20px;
			}
			div fieldset.snipcart-form__set div.snipcart-form__row {
				div.snipcart-form__field.snipcart-form__cell--tidy {
					width: 40%;
				}
				div.snipcart-form__field.snipcart-form__cell--large {
					select {
						border: 1px solid #e3e6e8;
						height: 52px;
						width: 100%;
						font-weight: 500;
						padding: 0 30px 0 16px;
				    -moz-appearance:none; /* Firefox */
				    -webkit-appearance:none; /* Safari and Chrome */
				    appearance: none;
						background-image: url("../public/img/layout/form-select-icon.svg");
						background-repeat: no-repeat;
						background-position: center right 5px;
						@include assets.border-radius(0);
					}
				}
			}	
			div fieldset.snipcart-form__set div.snipcart-form__field div.snipcart-typeahead div.snipcart-typeahead__content div.snipcart-typeahead__select div.snipcart-typeahead__input div.snipcart-form__select-wrapper svg.snipcart__icon {
				display: none;
			}
		}
	}

	div.snipcart-checkout-step__icon.snipcart-shipping-completed__step-icon,
	div.snipcart-checkout-step__icon.snipcart-billing-completed__step-icon {
		margin-right: 10px;
	}
	
	span.snipcart-shipping-completed__information,
	span.snipcart-cart-summary-item__name {
		line-height: 18px;
	}

	span.snipcart-shipping-rates-list-item__label--highlight {
		.snipcart-form-radio:checked + label::after {
			content: none;
		}
	}

	@media screen and (max-width: assets.$smartphone-width) {
		form#snipcart-billing-form.snipcart-form,
		form#snipcart-shipping-address-form.snipcart-form {
			div.snipcart__box {
				div fieldset.snipcart-form__set div.snipcart-form__row {
					flex-direction: column;
					div.snipcart-form__field.snipcart-form__cell--tidy {
						width: 100%;
					}
				}
			}
		}
	}
}

/* -------------------------------------------------
	FALLBACK FOR BROWSERS INCOMPATIBLE WITH FLEXBOX:
  -------------------------------------------------- */

.no-flexbox {
	div#__next {
		header,
		#principal,
		footer {
			display: none !important; // We hide the store for these extremely old browsers...
		}
		#incompatible-browser {
			display: block !important; // ... and show the "Incompatible browser" message.
		}
	}
}